[
    {
        "id": "pbc_1037645436",
        "listRule": "@request.auth.id != '' && (userId = @request.auth.id || privacy = 'public' || @collection.friendship.follower.id = @request.auth.id && @collection.friendship.following.id = userId)",
        "viewRule": "@request.auth.id != '' && (userId = @request.auth.id || privacy = 'public' || @collection.friendship.follower.id = @request.auth.id && @collection.friendship.following.id = userId)",
        "createRule": "@request.auth.id != ''",
        "updateRule": "userId = @request.auth.id",
        "deleteRule": "userId = @request.auth.id",
        "name": "appointments",
        "type": "base",
        "fields": [
            {
                "autogeneratePattern": "[a-z0-9]{15}",
                "hidden": false,
                "id": "text3208210256",
                "max": 15,
                "min": 15,
                "name": "id",
                "pattern": "^[a-z0-9]+$",
                "presentable": true,
                "primaryKey": true,
                "required": true,
                "system": true,
                "type": "text"
            },
            {
                "cascadeDelete": false,
                "collectionId": "_pb_users_auth_",
                "hidden": false,
                "id": "relation9999999991",
                "maxSelect": 1,
                "minSelect": 0,
                "name": "userId",
                "presentable": false,
                "required": true,
                "system": false,
                "type": "relation"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text9999999992",
                "max": 0,
                "min": 0,
                "name": "appointmentGroupId",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": true,
                "system": false,
                "type": "text"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text724990059",
                "max": 0,
                "min": 0,
                "name": "title",
                "pattern": "",
                "presentable": true,
                "primaryKey": false,
                "required": true,
                "system": false,
                "type": "text"
            },
            {
                "hidden": false,
                "id": "date3109945275",
                "max": "",
                "min": "",
                "name": "appointment_date",
                "presentable": false,
                "required": true,
                "system": false,
                "type": "date"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text258142582",
                "max": 0,
                "min": 0,
                "name": "region",
                "pattern": "",
                "presentable": true,
                "primaryKey": false,
                "required": false,
                "system": false,
                "type": "text"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text3782173140",
                "max": 0,
                "min": 0,
                "name": "building",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": false,
                "system": false,
                "type": "text"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text2885738205",
                "max": 0,
                "min": 0,
                "name": "date_type",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": true,
                "system": false,
                "type": "text"
            },
            {
                "hidden": false,
                "id": "number3130509737",
                "max": 30,
                "min": -1,
                "name": "hijri_day",
                "onlyInt": true,
                "presentable": false,
                "required": false,
                "system": false,
                "type": "number"
            },
            {
                "hidden": false,
                "id": "number540549363",
                "max": 12,
                "min": 0,
                "name": "hijri_month",
                "onlyInt": true,
                "presentable": false,
                "required": false,
                "system": false,
                "type": "number"
            },
            {
                "hidden": false,
                "id": "number3839413471",
                "max": 2000,
                "min": 0,
                "name": "hijri_year",
                "onlyInt": true,
                "presentable": false,
                "required": false,
                "system": false,
                "type": "number"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text9999999993",
                "max": 0,
                "min": 0,
                "name": "time_string",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": false,
                "system": false,
                "type": "text"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text9999999994",
                "max": 20,
                "min": 0,
                "name": "status",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": true,
                "system": false,
                "type": "text"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text9999999995",
                "max": 10,
                "min": 0,
                "name": "privacy",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": false,
                "system": false,
                "type": "text"
            },
            {
                "hidden": false,
                "id": "bool9999999996",
                "name": "isHost",
                "presentable": false,
                "required": true,
                "system": false,
                "type": "bool"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text9999999997",
                "max": 0,
                "min": 0,
                "name": "myNote",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": false,
                "system": false,
                "type": "text"
            },
            {
                "hidden": false,
                "id": "date9999999998",
                "max": "",
                "min": "",
                "name": "deletedAt",
                "presentable": false,
                "required": false,
                "system": false,
                "type": "date"
            },
            {
                "hidden": false,
                "id": "number2254405824",
                "max": null,
                "min": null,
                "name": "duration",
                "onlyInt": false,
                "presentable": false,
                "required": false,
                "system": false,
                "type": "number"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text2176557138",
                "max": 0,
                "min": 0,
                "name": "stream_link",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": false,
                "system": false,
                "type": "text"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text190751599",
                "max": 0,
                "min": 0,
                "name": "note_shared",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": false,
                "system": false,
                "type": "text"
            },
            {
                "hidden": false,
                "id": "autodate2990389176",
                "name": "created",
                "onCreate": true,
                "onUpdate": false,
                "presentable": false,
                "system": false,
                "type": "autodate"
            },
            {
                "hidden": false,
                "id": "autodate3332085495",
                "name": "updated",
                "onCreate": true,
                "onUpdate": true,
                "presentable": false,
                "system": false,
                "type": "autodate"
            }
        ],
        "indexes": [
            "CREATE INDEX idx_userId ON appointments (userId)",
            "CREATE INDEX idx_appointmentGroupId ON appointments (appointmentGroupId)",
            "CREATE INDEX idx_status ON appointments (status)",
            "CREATE INDEX idx_appointment_date ON appointments (appointment_date)"
        ],
        "system": false
    },
    {
        "id": "pbc_3554030554",
        "listRule": "@request.auth.id != '' && (guest = @request.auth.id || appointment.userId = @request.auth.id)",
        "viewRule": "@request.auth.id != '' && (guest = @request.auth.id || appointment.userId = @request.auth.id)",
        "createRule": "@request.auth.id != '' && appointment.userId = @request.auth.id && appointment.isHost = true",
        "updateRule": "guest = @request.auth.id || (appointment.userId = @request.auth.id && appointment.isHost = true)",
        "deleteRule": "appointment.userId = @request.auth.id && appointment.isHost = true",
        "name": "invitations",
        "type": "base",
        "fields": [
            {
                "autogeneratePattern": "[a-z0-9]{15}",
                "hidden": false,
                "id": "text3208210256",
                "max": 15,
                "min": 15,
                "name": "id",
                "pattern": "^[a-z0-9]+$",
                "presentable": true,
                "primaryKey": true,
                "required": true,
                "system": true,
                "type": "text"
            },
            {
                "cascadeDelete": true,
                "collectionId": "pbc_1037645436",
                "hidden": false,
                "id": "relation1111111111",
                "maxSelect": 1,
                "minSelect": 0,
                "name": "appointment",
                "presentable": false,
                "required": true,
                "system": false,
                "type": "relation"
            },
            {
                "cascadeDelete": false,
                "collectionId": "_pb_users_auth_",
                "hidden": false,
                "id": "relation2222222222",
                "maxSelect": 1,
                "minSelect": 0,
                "name": "guest",
                "presentable": false,
                "required": true,
                "system": false,
                "type": "relation"
            },
            {
                "autogeneratePattern": "",
                "hidden": false,
                "id": "text3333333333",
                "max": 30,
                "min": 0,
                "name": "status",
                "pattern": "",
                "presentable": false,
                "primaryKey": false,
                "required": true,
                "system": false,
                "type": "text"
            },
            {
                "hidden": false,
                "id": "date4444444444",
                "max": "",
                "min": "",
                "name": "respondedAt",
                "presentable": false,
                "required": false,
                "system": false,
                "type": "date"
            },
            {
                "hidden": false,
                "id": "autodate5555555555",
                "name": "created",
                "onCreate": true,
                "onUpdate": false,
                "presentable": false,
                "system": false,
                "type": "autodate"
            },
            {
                "hidden": false,
                "id": "autodate6666666666",
                "name": "updated",
                "onCreate": true,
                "onUpdate": true,
                "presentable": false,
                "system": false,
                "type": "autodate"
            }
        ],
        "indexes": [
            "CREATE INDEX idx_appointment ON invitations (appointment)",
            "CREATE INDEX idx_guest ON invitations (guest)",
            "CREATE INDEX idx_status ON invitations (status)"
        ],
        "system": false
    }
]


# ๐ ุชูุซูู ุตูุงุญูุงุช ุงููุตูู - ููุงุนุฏ PocketBase

ุชู ุชุญุฏูุซ ููุงุนุฏ ุงููุตูู ุจูุงุกู ุนูู ุงููุชุทูุจุงุช ุงููุญุฏุฏุฉ.

---

## ๐ ุฌุฏูู `appointments` (ุงูููุงุนูุฏ)

### โ ูุงุนุฏุฉ ุงููุฑุงุกุฉ (listRule & viewRule):

```javascript
@request.auth.id != '' && (
  privacy = 'public' || 
  host = @request.auth.id || 
  host.isPublic = true || 
  @collection.invitations.appointment.id = id && @collection.invitations.guest.id = @request.auth.id || 
  @collection.follows.follower.id = @request.auth.id && @collection.follows.following.id = host
)
```

#### ุงูุดุฑุญ:
ูููู ูููุณุชุฎุฏู ุฑุคูุฉ ุงูููุนุฏ ุฅุฐุง ุชุญูู **ุฃุญุฏ** ุงูุดุฑูุท ุงูุชุงููุฉ:

1. **ุงูููุนุฏ ุนุงู** (`privacy = 'public'`)
   - ุฃู ูุณุชุฎุฏู ูุณุฌู ุฏุฎูู ููููู ุฑุคูุชู

2. **ุฃูุง ุงูููุดุฆ** (`host = @request.auth.id`)
   - ุฃุฑู ุฌููุน ููุงุนูุฏู (ุนุงูุฉ ูุฎุงุตุฉ)

3. **ุญุณุงุจ ุงูููุดุฆ ุนุงู** (`host.isPublic = true`)
   - ุฅุฐุง ูุงู ุญุณุงุจ ุงููุถูู ุนุงูุงูุ ูููู ููุฌููุน ุฑุคูุฉ ููุงุนูุฏู

4. **ุฃูุง ุถูู ูู ุงูููุนุฏ** (`@collection.invitations...`)
   - ุฅุฐุง ููุช ูุฏุนูุงู (ุณูุงุก ูุจูุช ุฃู ุฑูุถุช)ุ ุฃุฑู ุงูููุนุฏ

5. **ุฃูุง ูุชุงุจุน ููููุดุฆ** (`@collection.follows...`)
   - ุฅุฐุง ููุช ูุชุงุจุนุงู ูููุถููุ ุฃุฑู ููุงุนูุฏู

---

### โ ูุงุนุฏุฉ ุงูุฅูุดุงุก (createRule):

```javascript
@request.auth.id != ''
```

- ุฃู ูุณุชุฎุฏู ูุณุฌู ุฏุฎูู ููููู ุฅูุดุงุก ููุนุฏ

---

### โ ูุงุนุฏุฉ ุงูุชุนุฏูู (updateRule):

```javascript
host = @request.auth.id
```

- ููุท **ุงูููุดุฆ** ููููู ุชุนุฏูู ุงูููุนุฏ

---

### โ ูุงุนุฏุฉ ุงูุญุฐู (deleteRule):

```javascript
host = @request.auth.id
```

- ููุท **ุงูููุดุฆ** ููููู ุญุฐู ุงูููุนุฏ

---

## ๐ ุฌุฏูู `user_appointment_status` (ูุณุฎ ุงูููุงุนูุฏ ุงูุดุฎุตูุฉ)

### โ ูุงุนุฏุฉ ุงููุฑุงุกุฉ (listRule & viewRule):

```javascript
user = @request.auth.id
```

- **ููุท ุงููุณุชุฎุฏู** ููููู ุฑุคูุฉ ูุณุฎุชู ุงูุดุฎุตูุฉ ูู ุงูููุงุนูุฏ
- ูุง ุฃุญุฏ ูุฑู ููุงุนูุฏู ุงููุคุฑุดูุฉ ุฃู ุงููุญุฐููุฉ ุบูุฑู

---

### โ ูุงุนุฏุฉ ุงูุฅูุดุงุก (createRule):

```javascript
user = @request.auth.id
```

- ุงููุณุชุฎุฏู ููุท ููููู ุฅูุดุงุก ูุณุฎุฉ ุดุฎุตูุฉ ูููุณู

---

### โ ูุงุนุฏุฉ ุงูุชุนุฏูู (updateRule):

```javascript
user = @request.auth.id
```

- ุงููุณุชุฎุฏู ููุท ููููู ุชุนุฏูู ูุณุฎุชู ุงูุดุฎุตูุฉ (ูุซู ุงูุฃุฑุดูุฉ ุฃู ุงูุญุฐู)

---

### โ ูุงุนุฏุฉ ุงูุญุฐู (deleteRule):

```javascript
user = @request.auth.id
```

- ุงููุณุชุฎุฏู ููุท ููููู ุญุฐู ูุณุฎุชู ุงูุดุฎุตูุฉ

---

## ๐ ุฌุฏูู `invitations` (ุงูุฏุนูุงุช)

### โ ูุงุนุฏุฉ ุงููุฑุงุกุฉ (listRule & viewRule):

```javascript
@request.auth.id != '' && (
  guest = @request.auth.id || 
  appointment.host = @request.auth.id
)
```

#### ุงูุดุฑุญ:
ูููู ูููุณุชุฎุฏู ุฑุคูุฉ ุงูุฏุนูุฉ ุฅุฐุง:

1. **ุฃูุง ุงูุถูู ุงููุฏุนู** (`guest = @request.auth.id`)
   - ุฃุฑู ุงูุฏุนูุงุช ุงูููุฌูุฉ ูู (ูุนููุฉุ ููุจููุฉุ ูุฑููุถุฉ)

2. **ุฃูุง ุงูููุดุฆ** (`appointment.host = @request.auth.id`)
   - ุฃุฑู ุฌููุน ุงูุฏุนูุงุช ุงูุชู ุฃุฑุณูุชูุง

---

### โ ูุงุนุฏุฉ ุงูุฅูุดุงุก (createRule):

```javascript
@request.auth.id != '' && appointment.host = @request.auth.id
```

- ููุท **ุงูููุดุฆ** ููููู ุฅูุดุงุก ุฏุนูุงุช ูููุนุฏู

---

### โ ูุงุนุฏุฉ ุงูุชุนุฏูู (updateRule):

```javascript
guest = @request.auth.id
```

- ููุท **ุงูุถูู** ููููู ุชุนุฏูู ุงูุฏุนูุฉ (ูุจูู/ุฑูุถ)

---

### โ ูุงุนุฏุฉ ุงูุญุฐู (deleteRule):

```javascript
guest = @request.auth.id || appointment.host = @request.auth.id
```

- **ุงูุถูู** ููููู ุญุฐู ุฏุนูุชู
- **ุงูููุดุฆ** ููููู ุญุฐู ุงูุฏุนูุฉ (ุฅูุบุงุก ุงูุฏุนูุฉ)

---

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู:

### 1. ููุนุฏ ุฎุงุต + ุญุณุงุจ ุฎุงุต:
- โ ุงูููุดุฆ ูุฑุงู
- โ ุงูุถููู ุงููุฏุนููู ูุฑููู
- โ ุงููุชุงุจุนูู ูุง ูุฑููู
- โ ุงูุฒูุงุฑ ูุง ูุฑููู

### 2. ููุนุฏ ุนุงู + ุญุณุงุจ ุฎุงุต:
- โ ุงูููุดุฆ ูุฑุงู
- โ ุงูุถููู ูุฑููู
- โ ุงููุชุงุจุนูู ูุฑููู
- โ ุงูุฒูุงุฑ ูุง ูุฑููู

### 3. ููุนุฏ ุฎุงุต + ุญุณุงุจ ุนุงู:
- โ ุงูููุดุฆ ูุฑุงู
- โ ุงูุถููู ูุฑููู
- โ ุงููุชุงุจุนูู ูุง ูุฑููู
- โ ุงูุฒูุงุฑ ูุง ูุฑููู

### 4. ููุนุฏ ุนุงู + ุญุณุงุจ ุนุงู:
- โ ุงูููุดุฆ ูุฑุงู
- โ ุงูุถููู ูุฑููู
- โ ุงููุชุงุจุนูู ูุฑููู
- โ ุฌููุน ุงููุณุชุฎุฏููู ูุฑููู

### 5. ูุณุฎุชู ุงูุดุฎุตูุฉ ูู ุงูููุนุฏ:
- โ ุฃุฑุงูุง ุฃูุง ููุท (active, archived, deleted)
- โ ูุง ุฃุญุฏ ุบูุฑู ูุฑุงูุง

---

## ๐ ููุฎุต ุงูุญุงูุงุช:

| ุงูุญุงูุฉ | ุงูููุดุฆ | ุงูุถูู | ุงููุชุงุจุน | ุงูุฒุงุฆุฑ |
|--------|--------|-------|---------|--------|
| ููุนุฏ ุนุงู + ุญุณุงุจ ุนุงู | โ | โ | โ | โ |
| ููุนุฏ ุนุงู + ุญุณุงุจ ุฎุงุต | โ | โ | โ | โ |
| ููุนุฏ ุฎุงุต + ุญุณุงุจ ุนุงู | โ | โ | โ | โ |
| ููุนุฏ ุฎุงุต + ุญุณุงุจ ุฎุงุต | โ | โ | โ | โ |
| ูุณุฎุฉ ูุคุฑุดูุฉ/ูุญุฐููุฉ | ุงููุงูู ููุท | โ | โ | โ |

---

## ๐ ุชุทุจูู ุงูุชุญุฏูุซุงุช:

ูุชุทุจูู ูุฐู ุงูููุงุนุฏ ูู PocketBase:

1. ุงูุชุญ **PocketBase Admin**
2. ุงุฐูุจ ุฅูู **Collections**
3. ููู collectionุ ุงูุณุฎ ุงูููุงุนุฏ ูู ูุฐุง ุงูููู
4. ุงุญูุธ ุงูุชุบููุฑุงุช
5. ุงุฎุชุจุฑ ุงูุตูุงุญูุงุช

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ:

1. **ุงูุฎุตูุตูุฉ ุงูุชุงูุฉ**: ุงููุณุฎ ุงูุดุฎุตูุฉ (user_appointment_status) ุฎุงุตุฉ ุชูุงูุงู ุจุงููุณุชุฎุฏู
2. **ุงูุชูุงูู ูุน ุงููุชุงุจุนุงุช**: ูุฌุจ ูุฌูุฏ ุฌุฏูู `follows` ููุชุญูู ูู ุงููุชุงุจุนุฉ
3. **ุงูุฏุนูุงุช**: ุงูุถูู ูุฑู ุงูููุนุฏ ุญุชู ูู ุฑูุถ ุงูุฏุนูุฉ
4. **ุงูุญุณุงุจุงุช ุงูุฎุงุตุฉ**: ุชุญุชุฑู ุฎุตูุตูุฉ ุงููุณุชุฎุฏู ุจุดูู ูุงูู
